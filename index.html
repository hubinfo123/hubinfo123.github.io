<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="tomorrow tomorrow tomorrowï¼Œain&#96;t no such thing as tomorrowï¼">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="tomorrow tomorrow tomorrowï¼Œain&#96;t no such thing as tomorrowï¼">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="miroku">
<meta property="article:tag" content="Javascriptã€Nodejsã€Nativeã€å¾®ä¿¡">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">è°¨è¨€ã€ç¬ƒè¡Œ</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/03/17/nextjs-SSG/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="miroku">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/17/nextjs-SSG/" class="post-title-link" itemprop="url">nextjs SSG ä½¿ç”¨</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-03-17 18:00:00 / ä¿®æ”¹æ—¶é—´ï¼š19:35:33" itemprop="dateCreated datePublished" datetime="2023-03-17T18:00:00+08:00">2023-03-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><font face="STCAIYUN" size="2">&nbsp;&nbsp;&nbsp;&nbsp;åœ¨å½“å‰éœ€æ±‚å¼€å‘è¿›å…¥æµ‹è¯•é˜¶æ®µï¼Œæ–°éœ€æ±‚è¿˜æœªè¿›å…¥è¯„å®¡é˜¶æ®µï¼Œå¦‚æ˜¯æƒ³ä¼˜åŒ–ä¸€ä¸‹å½“å‰ç³»ç»Ÿï¼Œå¦‚é¢„æ¸²æŸ“æœºåˆ¶ä½¿ç”¨èµ·æ¥ï¼Œäºæ˜¯å°±ç”¨åˆ°äº† nextjs çš„ SSGï¼ˆé™æ€ç”Ÿæˆï¼‰ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿè¿˜ç®—æ¯”è¾ƒç®€å•ï¼Œå‚ç…§æ–‡æ¡£æ—¢å¯è¿›è¡Œå°†ç°æœ‰é¡µé¢è¿›è¡Œæ”¹é€ ï¼Œè¿™é‡Œä¸»è¦æ˜¯å°†è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜è¿›è¡Œè®°å½•ã€‚</font></p>
<font face="STCAIYUN" size="2">
<p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># åœ¨é¦–é¡µä¸Šè¿›è¡Œæ”¹é€ ï¼Œæ”¹é¡µé¢æ•°æ®å‡ ä¹ä¸ä¼šéšæ„å˜åŠ¨ï¼Œç¬¦åˆSSG è¦æ±‚;</span><br><span class="line"></span><br><span class="line"># 1. åœ¨é¦–é¡µå¢åŠ getStaticProps æ–¹æ³•</span><br><span class="line">export const getStaticProps = async () =&gt; &#123;</span><br><span class="line">  let hotList = []</span><br><span class="line">  try &#123;</span><br><span class="line">    const &#123;data&#125; = await getTemplateList(&#123;</span><br><span class="line">      ...params // æ¥å£éœ€è¦çš„å‚æ•°</span><br><span class="line">    &#125;)</span><br><span class="line">    hotList = get(data, &#x27;result.items&#x27;, []) || []</span><br><span class="line">  &#125; catch (error) &#123;</span><br><span class="line">    console.log(error,&#x27;æ‰“å°error&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">  return &#123;</span><br><span class="line">    props: &#123;</span><br><span class="line">      hotList,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 2. å»æ‰ä¹‹å‰åœ¨CSR ç«¯è·å–æ•°æ®æ–¹æ³•</span><br><span class="line"></span><br><span class="line"># 3. å¯åŠ¨æœ¬åœ°å¼€å‘ç¯å¢ƒï¼Œé¦–é¡µå¯ä»¥æ­£å¸¸è®¿é—®ï¼Œæ‰“å¼€è°ƒè¯•å™¨ï¼Œæµè§ˆå™¨ajax ä¸­æ˜¯æ²¡æœ‰è¯·æ±‚äº†ï¼Œåœ¨node ç«¯æ‰“å°ï¼Œå¯ä»¥çœ‹åˆ°è¯·æ±‚æ´¾å‘ï¼Œ</span><br><span class="line">     æœ¬åœ°è°ƒæ•´å®Œæ¯•ï¼Œå‘ç‰ˆæµ‹è¯•éªŒè¯ï¼›</span><br><span class="line"></span><br><span class="line">//æœ¬åœ°å¼€å‘ç¯å¢ƒ</span><br></pre></td></tr></table></figure>
</p>
</font>

<blockquote>
<p><font face="STCAIYUN" size="2">å‘ç‰ˆæŠ¥é”™ï¼š</font><br><font face="STCAIYUN" size="2"></p>
</blockquote>
<p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"># 1. å¸¦æœ‰ajax è¯·æ±‚çš„ä»£ç æäº¤åï¼Œéƒ¨ç½²æŠ¥é”™ï¼š</span><br><span class="line">  Error occurred prerendering page &quot;/&quot;. Read more: https://nextjs.org/docs/messages/prerender-error</span><br><span class="line">  Error: connect EAFNOSUPPORT ::1:80 - Local (undefined:undefined)</span><br><span class="line">      at internalConnect (net.js:934:16)</span><br><span class="line">      at defaultTriggerAsyncIdScope (internal/async_hooks.js:452:18)</span><br><span class="line">      at net.js:1022:9</span><br><span class="line">      at processTicksAndRejections (internal/process/task_queues.js:77:11)</span><br><span class="line">  [0minfo  - Generating static pages (1/1)</span><br><span class="line">  [91m</span><br><span class="line">  [0m[91m&gt; Build error occurred</span><br><span class="line">  [0m[91mError: Export encountered errors on following paths:</span><br><span class="line">    /</span><br><span class="line">    at /app/node_modules/next/dist/export/index.js:423:19</span><br><span class="line"></span><br><span class="line">  å‡ºç°è¿™ä¸ªé”™è¯¯ï¼Œä»¥ä¸ºæ˜¯å†™å…¥æ–¹å¼æœ‰é—®é¢˜ï¼Œæœç´¢äº†å¾ˆå¤šæ–‡æ¡£ï¼Œæ²¡æœ‰ç±»ä¼¼é—®é¢˜ï¼Œå°è¯•å°†å…¶ä»–é¡¶éƒ¨æ–‡ä»¶é‡Œé¢çš„ç”Ÿå‘½å‘¨æœŸå¦‚getInitialProps æ›¿æ¢getServerSideProps ã€</span><br><span class="line">  æ˜¯å¦éœ€è¦é…åˆgetStaticPaths ï¼ˆè¿™ä¸ªæ˜¯æ²¡æœ‰ä»”ç»†é˜…è¯»æ–‡æ¡£çš„çŒœæµ‹ï¼Œè¿™ä¸ªæ˜¯åŠ¨æ€è·¯ç”±éœ€è¦ä½¿ç”¨çš„ï¼‰å‡æœªè§£å†³</span><br><span class="line"></span><br><span class="line"># 2. å°è¯•å…¶ä»–æ–¹æ³•ï¼Œä¸è¿›è¡Œ ajax ï¼Œç›´æ¥è¿”å›ï¼Œå¦‚ä¸‹æ˜¯å¯ä»¥çš„ï¼Œéƒ¨ç½²èƒ½æˆåŠŸ</span><br><span class="line">  export const getStaticProps = async () =&gt; &#123;</span><br><span class="line">    return &#123; props: &#123; initialState: &#123; lastUpdate: Date.now() &#125; &#125; &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"># 3. æ¥ç€æ–­ç‚¹è°ƒè¯•ï¼Œåœ¨ajax å¤„æ‰“å°configã€response å¤„è¿›è¡Œæ‰“å°ï¼Œå‘ç°æ˜¯ä»£ç é‡Œé¢å†™äº†ä¸€å¤„throw error å¯¼è‡´éƒ¨ç½²ç»ˆç«¯ï¼ˆé—®é¢˜ä¸åœ¨è¿™ï¼‰ï¼Œäºæ˜¯è°ƒæ•´äº†ajax è¯·æ±‚ï¼Œç›´æ¥æ‰“å°é”™è¯¯ï¼ŒæŠ¥å¦‚ä¸‹é—®é¢˜ï¼š</span><br><span class="line">info  - Linting and checking validity of types...</span><br><span class="line">[91mwarn  - The Next.js plugin was not detected in your ESLint configuration. See https://nextjs.org/docs/basic-features/eslint#migrating-existing-config</span><br><span class="line">[0m[91mFailed to compile.</span><br><span class="line"></span><br><span class="line">./src/pages/index.tsx:53:10</span><br><span class="line">Type error: Property &#x27;forEach&#x27; does not exist on type &#x27;void | [unknown, unknown]&#x27;.</span><br><span class="line">  Property &#x27;forEach&#x27; does not exist on type &#x27;void&#x27;.</span><br><span class="line"></span><br><span class="line">[0m [90m 51 | [39m  console[33m.[39mlog(values[33m,[39m [32m&#x27;values&#x27;[39m[33m,[39m hotResult[33m,[39m clickResult)[0m</span><br><span class="line">[0m [90m 52 | [39m  [90m// å¤„ç†promiseAll çš„401[39m[0m</span><br><span class="line"></span><br><span class="line">è¿™ä¸ªæŠ¥é”™æ˜¯å› ä¸ºæ‹¿ä¸åˆ°ç»“æœï¼Œç›´æ¥å¯¹ç»“æœè¿›è¡ŒforEach å¯¼è‡´çš„ï¼Œä¸»è¦é—®é¢˜è¿˜æ˜¯å¼€å‘ç¯å¢ƒè¯·æ±‚å¯ä»¥æˆåŠŸï¼Œbuild æ—¶å‘ç°è¯·æ±‚å¤±è´¥ï¼Œæ¥ç€æ’æŸ¥é”™è¯¯...</span><br><span class="line"></span><br><span class="line"># 4. éªŒè¯ä¸€ä¸‹çº¿ä¸Šçš„è¯·æ±‚é…ç½®åŒæœ¬åœ°çš„è¯·æ±‚é…ç½®æ˜¯å¦ä¸€æ ·ï¼Œå¯¹æ¯”ä¸€ä¸‹å·®å¼‚ç‚¹ï¼Œç»“æœå‘ç°baseUrl åœ¨æ„å»ºçš„æ—¶å€™ä¸¢å¤±ï¼Œè¿™ä¸ªåŒé¡¹ç›®æ­å»ºæœ‰å…³ç³»ï¼Œ</span><br><span class="line">     é¡¹ç›®æ˜¯æ‰“åŒ…åå†æ³¨å…¥ç¯å¢ƒå˜é‡ï¼Œæ‰“åŒ…æ˜¯æ˜¯æ²¡æœ‰ç¯å¢ƒå˜é‡çš„ï¼Œæ‰€ä»¥æ„å»ºæ—¶è·å–ä¸åˆ°ç¯å¢ƒå¯¹åº”çš„åç«¯æ¥å£åœ°å€ï¼Œå¦‚æ˜¯åœ¨è¯·æ±‚çš„åœ°æ–¹å…¼å®¹äº†ä¸€ä¸‹ï¼š</span><br><span class="line">// SSG å…ˆbuild å‘é€è¯·æ±‚æ˜¯å–ä¸åˆ°baseUrl</span><br><span class="line">  if(!config.baseURL)&#123;</span><br><span class="line">    config.baseURL = envToHost[process.env.APP_ENV]</span><br><span class="line">  &#125;</span><br><span class="line">// envToHost ä¸ºå„ä¸ªç¯å¢ƒçš„æšä¸¾</span><br></pre></td></tr></table></figure>
</p>
</font>

<p><font face="STCAIYUN" size="2">&nbsp;&nbsp;&nbsp;&nbsp;é‡æ–°å‘ç‰ˆï¼Œè¯·æ±‚æˆåŠŸï¼Œæ•°æ®æ­£å¸¸æ˜¾ç¤ºï¼Œè°ƒè¯•æŸ¥çœ‹æµè§ˆå™¨ajax æœªå‘ï¼Œåœ¨node ç«¯æ‰“åŒ…ç¼–è¯‘æ—¶è¿›è¡Œäº†è¯·æ±‚ï¼Œé¡µé¢åˆ‡æ¢ä¸ä¼šç­‰å¾…æ•°æ®ï¼Œæå‡äº†éƒ¨åˆ†æ¸²æŸ“é€Ÿåº¦ã€‚</font></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/03/08/nextjs-v12-upgrade-to-v13/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="miroku">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/08/nextjs-v12-upgrade-to-v13/" class="post-title-link" itemprop="url">nextjs v12 å‡çº§åˆ°v13 ç‰ˆæœ¬</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-03-08 06:00:00" itemprop="dateCreated datePublished" datetime="2023-03-08T06:00:00+08:00">2023-03-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-03-17 18:02:12" itemprop="dateModified" datetime="2023-03-17T18:02:12+08:00">2023-03-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><font face="STCAIYUN" size="2">&ensp; &ensp; &ensp;é¡¹ç›®ä¼˜åŒ–é¡¹åˆ©ç”¨ nextjs çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œåšä¸€äº›è¯·æ±‚ï¼Œå¦‚ userInfo ä¿¡æ¯ã€æƒé™ã€ä¸»ä½“ç­‰ä¸€äº›ä¸šåŠ¡é€»è¾‘æ¥å£ï¼Œä½†æ˜¯ç”±äºè¿™äº›æ¥å£éœ€è¦ token éªŒè¯ï¼Œåœ¨ä¸å€ŸåŠ©åç«¯å¸®å¿™çš„æƒ…å†µä¸‹ï¼Œå‰ç«¯éœ€è¦å¤„ç†åœ¨æœåŠ¡ç«¯æ‹¿åˆ° token , å°±åªèƒ½å€ŸåŠ© cookie ä¼ é€’ã€‚</font></p>
<p><font face="STCAIYUN" size="2">å¾…å®Œå–„</font></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/03/06/using-cookies-in-nextjs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="miroku">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/06/using-cookies-in-nextjs/" class="post-title-link" itemprop="url">cookie åœ¨nextjs ä¸­çš„ä½¿ç”¨</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-03-06 19:30:00" itemprop="dateCreated datePublished" datetime="2023-03-06T19:30:00+08:00">2023-03-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-03-07 21:18:21" itemprop="dateModified" datetime="2023-03-07T21:18:21+08:00">2023-03-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><font face="STCAIYUN" size="2">&ensp; &ensp; &ensp;é¡¹ç›®ä¼˜åŒ–é¡¹åˆ©ç”¨ nextjs çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œåšä¸€äº›è¯·æ±‚ï¼Œå¦‚ userInfo ä¿¡æ¯ã€æƒé™ã€ä¸»ä½“ç­‰ä¸€äº›ä¸šåŠ¡é€»è¾‘æ¥å£ï¼Œä½†æ˜¯ç”±äºè¿™äº›æ¥å£éœ€è¦ token éªŒè¯ï¼Œåœ¨ä¸å€ŸåŠ©åç«¯å¸®å¿™çš„æƒ…å†µä¸‹ï¼Œå‰ç«¯éœ€è¦å¤„ç†åœ¨æœåŠ¡ç«¯æ‹¿åˆ° token , å°±åªèƒ½å€ŸåŠ© cookie ä¼ é€’ã€‚</font></p>
<blockquote>
<p><font face="STCAIYUN" size="2">å®ç°æ–¹å¼ï¼š<br>å€ŸåŠ© js-cookie npm åŒ…ï¼Œè¿›è¡Œè®¾ç½®ã€åˆ é™¤ï¼›<br>key: å­—ç¬¦ä¸²,è¿™é‡ŒæŒ‡è¦è®¾ç½®çš„ tokenï¼›<br>token: é¡¹ç›®ä½¿ç”¨ token é‰´æƒï¼Œç™»å½•åä¼šè¿”å› tokenï¼›<br>expires: cookie å¤±æ•ˆæ—¶é—´ï¼Œåœ¨ js-cookie ä¸­æ—¶é—´æ˜¯ä»¥å¤©ä¸ºå•ä½å¼€å§‹ï¼›</font></p>
</blockquote>
<p><font face="STCAIYUN" size="2">1. é¡µé¢ç™»å½•æˆåŠŸåï¼Œæ‰§è¡Œ<br>Cookies.set(â€˜tokenâ€™,token,{expires:1})<br>åœ¨_app.js çš„ getInitialProps ä¸­æ´¾å‘ ajax æ˜¯ï¼Œéœ€è¦ä½¿ç”¨ token è¿›è¡Œé‰´æƒï¼Œæ­¤æ—¶åˆ™å¯ä»¥åœ¨<br>appContext.ctx?.req?.cookies?.token ä¸­è·å–ï¼Œç„¶åæ­£å¸¸ä½¿ç”¨ã€‚</font></p>
<p><font face="STCAIYUN" size="2">2. æ³¨æ„äº‹é¡¹ï¼šé€€å‡ºç™»å½•ã€token å¤±æ•ˆæ—¶æ‰§è¡Œé€€å‡ºç™»å½•é€»è¾‘æ—¶ï¼Œéœ€è¦å°† token ç»™æ‰‹åŠ¨æ¸…é™¤æ‰<br>Cookies.remove(â€˜tokenâ€™)</font></p>
<p><font face="STCAIYUN" size="2">3.expires æ˜¯éœ€è¦è®¾ç½®çš„ï¼Œå¦‚æœä¸è®¾ç½®ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼šæœåŠ¡ç«¯è¿”å›çš„ token çš„å¤±æ•ˆæ—¶é—´æ˜¯ 24 å°æ—¶ï¼Œé‚£ä¹ˆåœ¨ç”¨æˆ·ç™»å½•åï¼Œä½¿ç”¨å®Œï¼Œä¸ç‚¹å‡»é€€å‡ºç™»å½•ç›´æ¥å…³é—­æµè§ˆå™¨ï¼Œéš”å‡ ä¸ªå°æ—¶å†æ¬¡è®¿é—®é¡µé¢ï¼Œæ­¤æ—¶æ˜¯ç›´æ¥å¤„äºç™»å½•æ€ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ï¼Œä½†æ˜¯æ‰‹åŠ¨åˆ·æ–°æˆ–è€…å› æŸäº›æ“ä½œè§¦å‘äº†é¡µé¢åˆ·æ–°å¯¼è‡´äº† getInitialProps çš„è§¦å‘ï¼Œè¿™ä¸ªæ—¶å€™ token æ˜¯è·å–ä¸åˆ°çš„ï¼Œè¿™é‡Œæ¶‰åŠä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œå°±æ˜¯ cookie å¦‚æœä¸è®¾ç½®å¤±æ•ˆæ—¶é—´ï¼Œå®ƒçš„ç±»å‹ä¸ºï¼šsessionï¼Œä¼šéšæµè§ˆå™¨çš„å…³é—­è€Œæ¸…ç©ºï¼Œå¦‚æœè®¾ç½®äº†æ—¶é—´ï¼Œåˆ™ä¼šæŒ‰ç…§æ—¶é—´è¿›è¡Œå€’è®¡æ—¶æ¸…ç©ºï¼Œè¿™é‡Œåªéœ€è¦å°†æ—¶é—´è®¾ç½®ä¸ºå¤§äºç­‰äºæœåŠ¡å™¨çš„æ—¶é—´ï¼Œå› ä¸ºå¤±æ•ˆåå»è®¿é—®æ¥å£ï¼Œä¼šæç¤º token å¤±æ•ˆï¼Œå¼•å¯¼ç™»å½•ã€‚</font></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/01/29/nextjs-modify-host/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="miroku">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/29/nextjs-modify-host/" class="post-title-link" itemprop="url">NextJS é¡¹ç›®é…ç½®hostã€æµè§ˆå™¨è‡ªåŠ¨è®¿é—®é“¾æ¥</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-01-29 19:30:00 / ä¿®æ”¹æ—¶é—´ï¼š18:34:38" itemprop="dateCreated datePublished" datetime="2023-01-29T19:30:00+08:00">2023-01-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><font face="STCAIYUN" size="2">é¡¹ç›®ä½¿ç”¨ nextjs æ¡†æ¶ï¼Œä¸€ç›´ä»¥æ¥é¡¹ç›®å¯åŠ¨åï¼Œéƒ½æ˜¯æ‰‹åŠ¨è¾“å…¥è®¿é—®é“¾æ¥ï¼Œè€Œä¸”é¡¹ç›®å¯åŠ¨åï¼Œç»ˆç«¯è¾“å‡ºçš„è®¿é—®é“¾æ¥è¿˜æ˜¯é»˜è®¤çš„ localhostï¼Œ è¿™é‡Œå°±å°†è¿™ 2 ä¸ªé—®é¢˜ä¸€å¹¶è§£å†³æ‰ï¼Œä¸ºå¼€å‘ææ•ˆâ€¦</font></p>
</blockquote>
<font face="STCAIYUN" size="2">
1. é…ç½®æ­£ç¡®çš„hostæƒ³åˆ°è¯¥é¡¹ç›®é‡Œé¢æœ‰éƒ¨åˆ†webpack çš„é…ç½®ï¼Œå°±ä»¥ä¸ºæŒ‰ç…§webpack çš„é…ç½®åº”è¯¥å°±å¾ˆæ–¹ä¾¿çš„è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œåœ¨devServer å¤„è¿›è¡Œäº†å¦‚ä¸‹ä¿®æ”¹ï¼š<br/>
  devServerï¼š{host: 'local.meet.cn',open: true}<br/>
2. é‡æ–°å¯åŠ¨ï¼Œæ— ä»»ä½•ååº”ï¼Œä»¥ä¸ºæ˜¯é…ç½®å‚æ•°å†™é”™è¯¯äº†ï¼Œæ‰“å¼€webpack æ–‡æ¡£ï¼Œæ ¸å®äº†å‚æ•°ï¼Œé‡æ–°è¿è¡Œå‘ç°æ— ä»»ä½•ååº”ï¼Œé€šè¿‡webpack è¿™æ ·å»ä¿®æ”¹ï¼Œæ˜¯è¡Œä¸é€šçš„ï¼Œäºæ˜¯åœ¨å„ç§æ‰¾.....<br/></font>

<p><font face="STCAIYUN" size="2">æ‰“å¼€ nextjs çš„å¼€å‘æ–‡æ¡£ï¼Œä¸Šé¢ä¹Ÿæ˜¯æ²¡æœ‰è¯¦ç»†æåˆ°è¿™æ ·çš„é…ç½®ï¼Œè½¬åˆ° github nextjs ä»“åº“æŸ¥çœ‹æœ‰æ— ç±»ä¼¼çš„ examples ï¼Œ å‡ ä¹ç¿»å®Œäº†æ‰€æœ‰è‡ªå·±è®¤ä¸ºæœ‰çš„ next.config.js é…ç½®æ–‡ä»¶çš„ç›®å½•ï¼Œè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°ï¼Œæ²¡æœ‰åŠæ³•äº†ï¼Œåªèƒ½è‡ªå·±æã€‚</font></p>
 <font face="STCAIYUN" size="2">
1. è¿›å…¥node_moduels ä¸‹çš„.bin ç›®å½•ï¼Œæ‰¾åˆ°next å¯åŠ¨æ–‡ä»¶ï¼ŒæŸ¥çœ‹é‡Œé¢çš„è¿è¡Œæ–¹å¼ï¼Œæ‰¾åˆ°è¿™ä¸€æ¡ï¼š<br/>
// dev: ()=>Promise.resolve(require('../cli/next-dev').nextDev)<br/>
2. è¿›å…¥node_modules å…ˆçš„next ç›®å½•çš„dist/cli/next-dev.js æ–‡ä»¶ï¼Œ çœ‹åˆ°äº†startServer è¿™ä¸ªå‡½æ•°åœ¨æ‰§è¡Œ:<br/>
<p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const host = args[&#x27;--hostname&#x27;];</span><br><span class="line">    (0, _startServer).startServer(&#123;</span><br><span class="line">        allowRetry,</span><br><span class="line">        dev: true,</span><br><span class="line">        dir,</span><br><span class="line">        hostname: host,</span><br><span class="line">        isNextDevCommand: true,</span><br><span class="line">        port</span><br><span class="line">    &#125;).then(async (app)=&gt;&#123;</span><br><span class="line">        const appUrl = `http://$&#123;app.hostname&#125;:$&#123;app.port&#125;`;</span><br><span class="line">        (0, _output).startedDevelopmentServer(appUrl, `$&#123;host || &#x27;0.0.0.0&#x27;&#125;:$&#123;app.port&#125;`); // è¿™é‡Œæ˜¯å¯ä»¥ä¼ host çš„ï¼Œé‚£ä¹ˆåœ¨éœ€è¦åœ¨å“ªé‡Œä¼ å‘¢ï¼Ÿ</span><br></pre></td></tr></table></figure>
</p>
</font>

<blockquote>
<p><font face="STCAIYUN" size="2">æ¥ç€å†çœ‹è¿™ä¸ªæ–‡ä»¶ï¼Œä¸Šé¢éªŒè¯çš„æ˜¯çš„ä»¥ä¸‹ 3 ä¸ªå‘½ä»¤ï¼š</font></p>
</blockquote>
<font face="STCAIYUN" size="2">
<p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> const validArgs = &#123;</span><br><span class="line">   // Types</span><br><span class="line">   &#x27;--help&#x27;: Boolean,</span><br><span class="line">   &#x27;--port&#x27;: Number,</span><br><span class="line">   &#x27;--hostname&#x27;: String,</span><br><span class="line">   // Aliases</span><br><span class="line">   &#x27;-h&#x27;: &#x27;--help&#x27;,</span><br><span class="line">   &#x27;-p&#x27;: &#x27;--port&#x27;,</span><br><span class="line">   &#x27;-H&#x27;: &#x27;--hostname&#x27;</span><br><span class="line">  &#125;;</span><br><span class="line">   è¿™å‡ ä¸ªå‘½ä»¤å¯ä»¥åœ¨å¯åŠ¨å‘½ä»¤è¿›è¡Œæµ‹è¯•ï¼Œå°† package.json é‡Œé¢çš„å¯åŠ¨å‘½ä»¤æ”¹æˆå¦‚ä¸‹æµ‹è¯•ï¼š</span><br><span class="line">   &quot;start&quot;: &quot;next start -p 8000 -h&quot;,</span><br><span class="line">   æ­¤æ—¶é‡æ–°å¯åŠ¨ï¼Œç»ˆç«¯ä¸ä¼šæ‰§è¡Œï¼Œæ‰§è¡Œåˆ° help åå°±ç»“æŸäº†ï¼Œæ‰“å°å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">Options</span><br><span class="line">--port, -p A port number on which to start the application</span><br><span class="line">--hostname, -H Hostname on which to start the application (default: 0.0.0.0)</span><br><span class="line">--help, -h Displays this message</span><br><span class="line"></span><br><span class="line">ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œå¢åŠ  host åœ¨è¿™é‡Œå¯ä»¥ç”¨--hostname çš„æ–¹å¼ï¼Œå®é™…é¡¹ç›®å¯åŠ¨è„šæœ¬ä¿®æ”¹å¦‚ä¸‹ï¼š</span><br><span class="line">&quot;next&quot;: &quot;node scripts/setEnv.js &amp;&amp; next -p 8000 --hostname=local.meet.cn&quot;</span><br><span class="line">å†æ¬¡å¯åŠ¨, å‘ç°ç»ˆç«¯çš„æ‰“å°ä¸åœ¨æ˜¯ 0.0.0.0 å’Œ localhost äº†ï¼Œ å˜æˆ started server on local.meet.cn:8000 å’Œ</span><br><span class="line">url333: http://local.meet.cn:8000</span><br><span class="line">// url333 æ˜¯ä¸ºäº†æµ‹è¯•åé¢çš„è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨çš„æ–­ç‚¹è°ƒè¯•ï¼ŒåŸæœ¬æ‰“å°çš„æ˜¯ url:</span><br><span class="line">è‡³æ­¤ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜ä¿®æ”¹ hostname å·²ç»å®Œæˆäº†ï¼Œè‡³å°‘åœ¨é¡¹ç›®å¯åŠ¨åï¼Œæ‰‹åŠ¨å»ç‚¹å‡»è¿™ä¸ªåœ°æ–¹ï¼Œä¹Ÿæ€»æ¯”å»åœ°å€æ æ‰‹åŠ¨è¾“å…¥è¦å¿«ä¸€äº›ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</p>
</font>


<blockquote>
<p><font face="STCAIYUN" size="2">æ¥ä¸‹æ¥è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼š</font></p>
</blockquote>
<font face="STCAIYUN" size="2">
<p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">åˆšå¼€å§‹åœ¨ node_moduels ä¸‹é¢å»æœ url: æ²¡æœ‰æœåˆ°ï¼Œäºæ˜¯å°±æƒ³åœ¨è‡ªå®šä¹‰ server é‚£å—çœ‹èƒ½ä¸èƒ½å®ç°ï¼Œ </span><br><span class="line">ä¸Šé¢çš„å¯åŠ¨æ˜¯èµ°çš„ next å†…ç½®çš„ server, å½“æ—¶ä¸ºäº†ä½¿ç”¨ https é¡¹ç›®é‡Œé¢ä¹Ÿè¿›è¡Œäº†è‡ªå®šä¹‰ server çš„æ”¯æŒï¼Œé‡Œé¢æ˜¯æ‰‹åŠ¨è¿›è¡Œè¾“å‡ºï¼š</span><br><span class="line">  console.log(`&gt; Ready on https://local.meet.cn:$&#123;port&#125;`) // åœ¨ç»ˆç«¯è¾“å‡ºå°±æ˜¯è¿™ä¸ªï¼Œå¾ˆæ˜æ˜¾æ‰“å¼€æµè§ˆå™¨æ˜¯éœ€è¦æ‰‹åŠ¨å®ç°</span><br></pre></td></tr></table></figure>
</p>
</font>

<font face="STCAIYUN" size="2">
<p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">åœ¨è‡ªå®šä¹‰ server çš„åŸºç¡€ä¸Šæ‰‹åŠ¨å®ç°æ‰“å¼€æµè§ˆå™¨</span><br><span class="line">  æŒ‰ç…§ node ç¯å¢ƒæ‰“å¼€æµè§ˆå™¨çš„ç¬¬ä¸‰æ–¹åº“ yarn add open --save-dev</span><br><span class="line">  å¢åŠ å‘½ä»¤ï¼šopen(`https://local.meet.cn:$&#123;port&#125;`, &#123;app: &#123;name: &#x27;firefox&#x27;&#125;&#125;) // ç¬¬äºŒä¸ªå‚æ•°å»æ‰ï¼Œå°±ä½¿ç”¨ç”µè„‘é»˜è®¤è®¾ç½®çš„æµè§ˆå™¨è¿›è¡Œæ‰“å¼€</span><br><span class="line">  // åœ¨è‡ªå®šä¹‰ server çš„å¯åŠ¨å‘½ä»¤ä¸Šæ‰§è¡Œï¼Œé¡¹ç›®å¯åŠ¨åï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ–°å¼€ tab è‡ªåŠ¨è¿›è¡Œé“¾æ¥çš„è®¿é—®</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</p>
</font>


<blockquote>
<p><font face="STCAIYUN" size="2">ç»§ç»­è§£å†³ä¸ä½¿ç”¨è‡ªå®šä¹‰server å¯åŠ¨å‘½ä»¤ï¼Œå°±æ˜¯next è‡ªå¸¦å¯åŠ¨å‘½ä»¤ï¼Œå¦‚ä½•æ‰“å¼€å‘¢ï¼Ÿåœ¨ node_modules/next/dist/server/lib/start-server.js ä¸‹é¢æ˜¯next ç»´æŠ¤çš„ä¸€ä»½å¯åŠ¨é…ç½®ï¼š    </font><br><img src="/images/nextjs-modify-host-1.png"></p>
</blockquote>
<blockquote>
<p><font face="STCAIYUN" size="2">äºæ˜¯å†å°†url: è¿›è¡Œäº†æœç´¢ï¼Œå‘ç°vscode ä¸Šæœ‰ä¸€ä¸ªç­›é€‰æ¡ä»¶è¢«ä½¿ç”¨ï¼Œå»æ‰ï¼Œå°±æœç´¢å‡ºæ¥äº†ï¼Œæœ‰å¤šä¸ªï¼Œ333 æ˜¯ä¸ºäº†éªŒè¯æ‰§è¡Œçš„æ–‡ä»¶ï¼š    </font><br><img src="/images/nextjs-modify-host-2.png"></p>
</blockquote>
<p> <font face="STCAIYUN" size="2">å…¶å®ï¼Œåˆ°è¿™é‡Œå°±å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡nextå†…ç½®çš„å¯åŠ¨æ–¹å¼ï¼Œæ˜¯æ— æ³•è¿›è¡Œæµè§ˆå™¨è‡ªåŠ¨è‡ªåŠ¨æ‰“å¼€çš„ï¼Œå› ä¸ºnextjs æ¡†æ¶æ²¡æœ‰å»åšè¿™ä¸ªäº‹ï¼Œè€Œæˆ‘ä»¬çš„é¡¹ç›®é‡Œé¢ä¹Ÿä¸€ç›´éƒ½æ˜¯é‡‡ç”¨https çš„æ–¹å¼ï¼ˆnextjs å¼€å¯éœ€è‡ªå®šä¹‰server.js ï¼‰,é‚£å°±åœ¨server.js é‡Œé¢æ‰‹åŠ¨å»æ‰“å¼€æµè§ˆå™¨å§ã€‚<br></font></p>
<p><font face="STCAIYUN" size="4"><p>~~ å®Œæ¯•ï¼ï¼ï¼</p></font></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/01/28/my-flat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="miroku">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/28/my-flat/" class="post-title-link" itemprop="url">æ•°ç»„æ‰å¹³åŒ–</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-01-28 19:30:00 / ä¿®æ”¹æ—¶é—´ï¼š18:06:06" itemprop="dateCreated datePublished" datetime="2023-01-28T19:30:00+08:00">2023-01-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><font face="STCAIYUN" size="2">æ–°å¹´ä¼Šå§‹ï¼Œç¬¬ä¸€å¤©ä¸Šç­ï¼Œä¾æ—§æ‰“å¡æ¯”è¾ƒæ—©ï¼Œä¹ æƒ¯æ€§çš„çœ‹çœ‹æ–‡ç« ï¼Œäºæ˜¯çœ‹åˆ°äº†è¿™æ ·ä¸€ç¯‡æ–‡ç« ã€Šæ‰‹å†™â€”æ•°ç»„æ‰å¹³åŒ–ã€‹ï¼Œè¿‡å¹´åœ¨å®¶ä¼‘æ¯äº† 10 å¤šå¤©ï¼Œä¹Ÿæƒ³çœ‹çœ‹è‡ªå·±å¿˜è®°äº†æ²¡æœ‰ï¼Œäºæ˜¯å°†è‡ªå·±å½“æ—¶çœ‹åˆ°è¿™ç¯‡æ–‡ç« æ—¶ï¼Œè‡ªå·±çš„ä¸ªäººæƒ³æ³•è®°å½•ä¸‹æ¥ã€‚</font></p>
<p><font face="STCAIYUN" size="2">é‡åˆ°è¿™æ ·çš„é¢˜ç›®æ—¶ï¼Œé¦–å…ˆä¸èƒ½åŸºäºå°±æƒ³æ–¹æ³•è§£é¢˜ï¼Œæ–¹æ³•å¯èƒ½ä¼šæœ‰å¤šç§ï¼Œä½†æ˜¯å‡ºé¢˜è€…çš„ç›®çš„æ˜¯ä»€ä¹ˆä¹Ÿå¯ä»¥ç¨å¾®æ€è€ƒä¸€ä¸‹ï¼Œç„¶ååœ¨æ ¹æ®è‡ªå·±çš„æ€è€ƒï¼Œè¿›è¡Œè§£ç­”ï¼Œæˆ‘å½“æ—¶çš„ç†è§£å°±æ˜¯é¦–å…ˆè¦è€ƒçš„å°±æ˜¯å¯¹å¸¸ç”¨ API çš„ä½¿ç”¨å’Œç†è§£ï¼Œå…¶æ¬¡å°±æ˜¯ä¸ç”¨ API è‡ªå·±å®ç°ï¼Œæœ€åå°±æ˜¯å¦‚æœå‡ºç°å¤šç§å®ç°æ–¹å¼ï¼Œå¯¹ä¸åŒå®ç°æ–¹å¼çš„ä¸€ä¸ªç†è§£ã€‚</font></p>
<p><font face="STCAIYUN" size="4"><p>è¯•é¢˜ï¼š[1, [2, [3, [4, 5]]]] ï¼Œå°†å…¶æ‰å¹³åŒ–è¾“å‡º[1,2,3,4,5]</p></font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">1. ä»å¸¸ç”¨API çš„ä½¿ç”¨æ¥è§£ï¼š</span><br><span class="line">é¦–é€‰es6 è‡ªå¸¦çš„flat æ–¹æ³•ï¼Œflat(depth) æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„é€’å½’æ·±åº¦é€’å½’éå†æ•°ç»„ï¼Œ</span><br><span class="line">å¹¶å°†æ‰€æœ‰çš„å…ƒç´ ä¸éå†çš„å­æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œåˆå¹¶ï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼›</span><br><span class="line">const arr = [1, [2, [3, [4, 5]]]];</span><br><span class="line">arr.flat(4)</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,4,5]</span><br><span class="line"></span><br><span class="line">depth æ˜¯å¯é€‰å‚æ•°ï¼Œé»˜è®¤ä¸º1å±‚ï¼ŒæŒ‡è¦æå–åµŒå¥—æ•°ç»„çš„ç»“æ„æ·±åº¦ï¼›</span><br><span class="line"></span><br><span class="line">arr.flat()</span><br><span class="line">è¾“å‡ºï¼š[1,2,[3,[4,5]]]</span><br><span class="line"></span><br><span class="line">å¦‚æœæ•°ç»„æ·±åº¦æœªçŸ¥ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å…³é”®å­—è¿›è¡Œæ— é™é€’å½’ï¼ŒInfinity</span><br><span class="line">arr.flat(Infinity)</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,4,5]</span><br><span class="line"></span><br><span class="line">2. æ‰‹å†™æ•°ç»„æ‰å¹³åŒ–</span><br><span class="line">function myFlat(arr,depth)&#123;</span><br><span class="line">  let result = [];</span><br><span class="line">  if(!arr.length )&#123;</span><br><span class="line">    return result;</span><br><span class="line">  &#125;</span><br><span class="line">  for(let i = 0; i&lt;arr.length;i++)&#123;</span><br><span class="line">    if(Array.isArray(arr[i]) &amp;&amp; depth&gt;0 )&#123;</span><br><span class="line">      result = result.concat(myFlat(arr[i],depth-1))</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      result.push(arr[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br><span class="line">const res = myFlat(arr,4);</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,4,5]</span><br><span class="line">æ€è€ƒï¼šè¿™é‡Œå¦‚ä½•å»å®ç°Infinity</span><br><span class="line"></span><br><span class="line">3.ä½¿ç”¨éé€’å½’çš„æ–¹å¼å®ç°ï¼š</span><br><span class="line">function myFlat2(arr)&#123;</span><br><span class="line">  if(!arr.length)&#123;</span><br><span class="line">    return []</span><br><span class="line">  &#125;</span><br><span class="line">  const result = [];</span><br><span class="line">  let stack = [...arr]</span><br><span class="line">  while(stack.length)&#123;</span><br><span class="line">    const next = stack.pop();</span><br><span class="line">    if(Array.isArray(next))&#123;</span><br><span class="line">      stack.push(...next);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      result.push(next);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return result.reverse();</span><br><span class="line">&#125;</span><br><span class="line">const res = myFlat2(arr)</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,4,5]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><font face="STCAIYUN" size="2">åœ¨ä¸Šé¢çš„è§£æ³•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å¸¸ç”¨çš„é€’å½’ä¸è¿­ä»£å¾ªç¯ï¼ŒäºŒè€…çš„åŒºåˆ«æ˜¯ï¼š<br>ç¼–ç¨‹ä¹‹ç¾ï¼šâ€œè¿­ä»£æ˜¯äººï¼Œé€’å½’æ˜¯ç¥ï¼â€</p>
<p>é€’å½’ï¼šé‡å¤è°ƒç”¨å‡½æ•°è‡ªèº«å®ç°å¾ªç¯ï¼›<br>è¿­ä»£ï¼šåˆ©ç”¨å˜é‡çš„åŸå€¼æ¨å‡ºæ–°å€¼ï¼Œæˆ–ç€è¯´è¿­ä»£æ˜¯å‡½æ•°å†…æŸæ®µä»£ç å®ç°å¾ªç¯ã€‚<br>é€’æ¨ï¼šæ˜¯ä¸€ç§ç”¨è‹¥å¹²æ­¥å¯é‡å¤çš„ç®€è¿ç®—ï¼ˆè§„å¾‹ï¼‰æ¥æè¿°å¤æ‚é—®é¢˜çš„æ–¹æ³•</p>
<p>æˆ‘ç†è§£è¿­ä»£å’Œé€’æ¨æ˜¯ä¸€æ ·çš„</p>
<p>é€’å½’å®é™…ä¸Šæ˜¯ä¸æ–­åœ°æ·±å±‚è°ƒç”¨å‡½æ•°ï¼Œç›´åˆ°å‡½æ•°æœ‰è¿”å›æ‰ä¼šé€å±‚çš„è¿”å›ã€‚é€’å½’æ˜¯ç”¨æ ˆæœºåˆ¶å®ç°çš„ï¼Œæ¯æ·±å…¥ä¸€å±‚ï¼Œéƒ½è¦å å»ä¸€å—æ ˆæ•°æ®åŒºåŸŸï¼Œå› æ­¤ï¼Œé€’å½’æ¶‰åŠåˆ°è¿è¡Œæ—¶çš„å †æ ˆå¼€é”€ï¼ˆå‚æ•°å¿…é¡»å‹å…¥å †æ ˆä¿å­˜ï¼Œç›´åˆ°è¯¥å±‚å‡½æ•°è°ƒç”¨è¿”å›ä¸ºæ­¢ï¼Œæ‰å‡ºæ ˆï¼‰ï¼Œæ‰€ä»¥æœ‰å¯èƒ½å¯¼è‡´å †æ ˆæº¢å‡ºçš„é”™è¯¯ï¼›ä½†æ˜¯é€’å½’ç¼–ç¨‹æ‰€ä½“ç°çš„æ€æƒ³æ­£æ˜¯äººä»¬è¿½æ±‚ç®€æ´ã€å°†é—®é¢˜äº¤ç»™è®¡ç®—æœºï¼Œä»¥åŠå°†å¤§é—®é¢˜åˆ†è§£ä¸ºç›¸åŒå°é—®é¢˜ä»è€Œè§£å†³å¤§é—®é¢˜çš„åŠ¨æœºã€‚</p>
<p>è¿­ä»£å¤§éƒ¨åˆ†æ—¶å€™éœ€è¦äººä¸ºçš„å¯¹é—®é¢˜è¿›è¡Œå‰–æï¼Œåˆ†æé—®é¢˜çš„è§„å¾‹æ‰€åœ¨ï¼Œå°†é—®é¢˜è½¬å˜ä¸ºä¸€æ¬¡æ¬¡çš„è¿­ä»£æ¥é€¼è¿‘ç­”æ¡ˆã€‚è¿­ä»£ä¸åƒé€’å½’é‚£æ ·å¯¹å †æ ˆæœ‰ä¸€å®šçš„è¦æ±‚ï¼Œå¦å¤–ä¸€æ—¦é—®é¢˜å‰–æå®Œæ¯•ï¼Œå°±å¯ä»¥å¾ˆå®¹æ˜“çš„é€šè¿‡å¾ªç¯åŠ ä»¥å®ç°ã€‚è¿­ä»£çš„æ•ˆç‡é«˜ï¼Œä½†å´ä¸å¤ªå®¹æ˜“ç†è§£ï¼Œå½“é‡åˆ°æ•°æ®ç»“æ„çš„è®¾è®¡æ—¶ï¼Œæ¯”å¦‚å›¾è¡¨ã€äºŒå‰æ ‘ã€ç½‘æ ¼ç­‰é—®é¢˜æ—¶ï¼Œä½¿ç”¨å°±æ¯”è¾ƒå›°éš¾ï¼Œè€Œæ˜¯ç”¨é€’å½’å°±èƒ½çœæ‰äººå·¥æ€è€ƒè§£æ³•çš„è¿‡ç¨‹ï¼Œåªéœ€è¦ä¸æ–­çš„å°†é—®é¢˜åˆ†è§£ç›´åˆ°è¿”å›å°±å¯ä»¥äº†ã€‚</p>
<p>ä¸¤è€…å…³ç³»ï¼šæ‰€æœ‰çš„è¿­ä»£å¯ä»¥è½¬æ¢ä¸ºé€’å½’ï¼Œä½†é€’å½’ä¸ä¸€å®šå¯ä»¥è½¬æ¢æˆè¿­ä»£ã€‚</font></p>
<table>
    <th>
        </th><td>å®šä¹‰</td>
        <td>ä¼˜ç‚¹</td>
        <td>ç¼ºç‚¹</td>
    </th>
    <tr>
        <td>é€’å½’</td>
        <td>é‡å¤è°ƒç”¨å‡½æ•°è‡ªèº«å®ç°å¾ªç¯</td>
        <td> 1.ç”¨æœ‰é™çš„å¾ªç¯è¯­å¥å®ç°æ— é™é›†åˆï¼›<br> 2.æ˜“è¯»ã€‚</td>
        <td> 1.é€’å½’ä¸æ–­è°ƒç”¨å‡½æ•°ï¼Œæµªè´¹ç©ºé—´ï¼›<br> 2.å®¹æ˜“é€ æˆå †æ ˆæº¢å‡ºã€‚</td>
    </tr>
    <tr>
        <td>è¿­ä»£</td>
        <td>åˆ©ç”¨å˜é‡çš„åŸå€¼æ¨å‡ºæ–°å€¼<br>å‡½æ•°å†…æŸæ®µä»£ç å®ç°å¾ªç¯</td>
        <td>1.æ•ˆç‡é«˜ï¼Œè¿è¡Œæ—¶é—´å€¼éšå¾ªç¯çš„å¢åŠ è€Œå¢åŠ ï¼›<br>2.æ— é¢å¤–çš„å¼€é”€ã€‚</td>
        <td>1.ä»£ç éš¾ç†è§£ï¼›<br>2.ä¸å¦‚é€’å½’ç®€æ´ã€‚</td>
    </tr>
    <tr>
        <td>äºŒè€…å…³ç³»</td>
        <td colspan="4"> 1.é€’å½’ä¸­ä¸€å®šæœ‰è¿­ä»£ï¼Œè¿­ä»£ä¸­ä¸ä¸€å®šæœ‰é€’å½’ï¼›å¤§éƒ¨åˆ†éƒ½å¯ä»¥ç›¸äº’è½¬æ¢ï¼›<br>2.ç›¸å¯¹é€’å½’çš„ç¼ºç‚¹æ¥è¯´ï¼Œèƒ½ç”¨è¿­ä»£ä¸ç”¨é€’å½’ï¼ˆä¸æ–­è°ƒç”¨å‡½æ•°ï¼Œæµªè´¹ç©ºé—´ï¼Œå®¹æ˜“é€ æˆå †æ ˆæº¢å‡ºï¼‰ã€‚</td>
    </tr>
</table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/20/electron1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="miroku">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/20/electron1/" class="post-title-link" itemprop="url">Electron å¼€å‘ç¬¬ä¸€ç¯‡ï¼šå¯åŠ¨ä¸åŒç¯å¢ƒåŠæ‰“åŒ…ä¸åŒç¯å¢ƒ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-01-20 11:29:00" itemprop="dateCreated datePublished" datetime="2021-01-20T11:29:00+08:00">2021-01-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-01-28 17:46:49" itemprop="dateModified" datetime="2023-01-28T17:46:49+08:00">2023-01-28</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><font face="STCAIYUN" size="2">æœ€è¿‘åœ¨å¼€å‘æ¡Œé¢ç«¯åº”ç”¨ï¼Œæ˜¨å¤©ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸Šçº¿å®Œï¼Œä»Šå¤©æ²¡æœ‰ä»€ä¹ˆç´§æ€¥çš„äº‹è¦åšï¼ŒæŠŠæ¡Œé¢ç«¯é¡¹ç›®çš„è°ƒè¯•ç¯å¢ƒä¸æ‰“åŒ…ç¯å¢ƒä¿®æ”¹äº†ä¸€ç•ªï¼Œæ›´æ–¹ä¾¿ï¼Œçµæ´»æ€§æ›´é«˜ï¼Œç›¸åº”çš„æé«˜äº†ä¸€äº›å¼€å‘èƒ½æ•ˆã€‚</font></p>
<blockquote>
<p><font face="STCAIYUN" size="2">æœªä¿®æ”¹æ—¶å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼š<br>1.å¤šäººåä½œæ—¶ï¼Œæ”¹äº†BASE_URL åœ¨æäº¤æ—¶å°±è¦ä¸€ç›´è®°ä½å†æ”¹å›å»ï¼Œä¸å°å¿ƒæäº¤äº†åˆ«äººåˆå¹¶æ—¶å¾—çœ‹åŠå¤©ï¼Œæ‹…å¿ƒåˆå¹¶é”™è¯¯ï¼›<br>  2.æ‰“åŒ…æ—¶ï¼Œå¦‚æœæµ‹è¯•éœ€è¦æµ‹è¯•ä¸åŒç¯å¢ƒçš„åŒ…æ—¶ï¼Œè¦æ¥å›çš„æ”¹BASE_URLï¼Œè¿™ä¸ªè¿˜æ˜¯ä¸€ä¸ªå˜é‡ï¼Œå¦‚æœå‡ºç°å¤šä¸ªå˜é‡ï¼Œé‚£å°±å‘µå‘µäº†ğŸ™ƒï¼›<br>  3.å¤ªä¸æ™ºèƒ½,ä¸å¤Ÿè‡ªåŠ¨åŒ–ã€‚</font></p>
</blockquote>
<p><font face="STCAIYUN" size="2">1.è§£å†³åŠæ³•å°±æ˜¯åœ¨package.json é‡Œé¢å»è®¾ç½®ä¸åŒç¯å¢ƒçš„å‘½ä»¤ï¼Œæ¥é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒæ¥æ‰§è¡Œä¸åŒçš„å‘½ä»¤ï¼Œå¦‚ä¸‹ï¼š</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &quot;concurrently \&quot;yarn build:main\&quot; \&quot;yarn build:renderer\&quot;&quot;,</span><br><span class="line">    &quot;build:main&quot;: &quot;cross-env NODE_ENV=production webpack --config ./.erb/configs/webpack.config.main.prod.babel.js&quot;,</span><br><span class="line">    &quot;build:renderer&quot;: &quot;cross-env NODE_ENV=production webpack --config ./.erb/configs/webpack.config.renderer.prod.babel.js&quot;,</span><br><span class="line">    &quot;rebuild&quot;: &quot;electron-rebuild --parallel --types prod,dev,optional --module-dir src&quot;,</span><br><span class="line">    &quot;lint&quot;: &quot;cross-env NODE_ENV=development eslint . --cache --ext .js,.jsx,.ts,.tsx&quot;,</span><br><span class="line">    &quot;package&quot;: &quot;yarn build &amp;&amp; electron-builder build --publish never&quot;,</span><br><span class="line">    &quot;package:dev&quot;: &quot;cross-env ENV=dev yarn package&quot;,</span><br><span class="line">    &quot;package:test&quot;: &quot;cross-env ENV=test yarn package&quot;,</span><br><span class="line">    &quot;package:test2&quot;: &quot;cross-env ENV=test2 yarn package&quot;,</span><br><span class="line">    &quot;package:pre&quot;: &quot;cross-env ENV=pre yarn package&quot;,</span><br><span class="line">    &quot;package:product&quot;: &quot;cross-env ENV=product yarn package&quot;,</span><br><span class="line">    &quot;postinstall&quot;: &quot;node -r @babel/register .erb/scripts/CheckNativeDep.js &amp;&amp; electron-builder install-app-deps &amp;&amp; yarn cross-env NODE_ENV=development webpack --config ./.erb/configs/webpack.config.renderer.dev.dll.babel.js &amp;&amp; opencollective-postinstall &amp;&amp; yarn-deduplicate yarn.lock&quot;,</span><br><span class="line">    &quot;base&quot;: &quot;node -r @babel/register ./.erb/scripts/CheckPortInUse.js &amp;&amp; cross-env yarn start:renderer&quot;,</span><br><span class="line">    &quot;start:dev&quot;: &quot;cross-env ENV=dev yarn base&quot;,</span><br><span class="line">    &quot;start:test&quot;: &quot;cross-env ENV=test yarn base&quot;,</span><br><span class="line">    &quot;start:test2&quot;: &quot;cross-env ENV=test2 yarn base&quot;,</span><br><span class="line">    &quot;start:pre&quot;: &quot;cross-env ENV=pre yarn base&quot;,</span><br><span class="line">    &quot;start:product&quot;: &quot;cross-env ENV=product yarn base&quot;,</span><br><span class="line">    &quot;start:main&quot;: &quot;cross-env NODE_ENV=development electron -r ./.erb/scripts/BabelRegister ./src/main.dev.ts&quot;,</span><br><span class="line">    &quot;start:renderer&quot;: &quot;cross-env NODE_ENV=development webpack serve --config ./.erb/configs/webpack.config.renderer.dev.babel.js&quot;,</span><br><span class="line">    &quot;test&quot;: &quot;jest&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>



<p><font face="STCAIYUN" size="2">åœ¨ä¿®æ”¹è¿‡ç¨‹ä¸­å‘ç”Ÿçš„é—®é¢˜ï¼š<br>1.node ç¯å¢ƒä¸‹å¯ä»¥æ­£å¸¸æ‹¿åˆ°ç¯å¢ƒå˜é‡ï¼Œåœ¨electron ä¸­æ˜¯æ‹¿ä¸åˆ°çš„</font></p>
<p><img src="/images/electron1.png"></p>
<p><font face="STCAIYUN" size="2">2.æ–¹æ³•1å¯ä»¥çœ‹å‡ºå†™äº†å¾ˆå¤šç›¸åŒçš„ä»£ç ï¼Œä¸‹é¢å°±å€ŸåŠ©inquirer å‘½ä»¤è¡Œå·¥å…·è¿›è¡Œç®€åŒ–ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒè¿›è¡Œé€‰æ‹©ä¸åŒçš„å¯åŠ¨å‘½ä»¤ï¼Œå¦‚ä¸‹ï¼š</font></p>
<blockquote>
<font face="STCAIYUN" size="2">
1.å¯åŠ¨æˆ–è€…æ‰“åŒ…ï¼›   <br/>
2."inquirer":"TYPE=development node ./scripts/inquirer.js",<br/>
3."inquirer:package":"TYPE=production node ./scripts/inquirer.js",</font>
</blockquote>
<br/>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">//inquirer.js</span><br><span class="line">const inquirer = require(&#x27;inquirer&#x27;);</span><br><span class="line">const spawn = require(&#x27;cross-spawn&#x27;);</span><br><span class="line">const promptList = [</span><br><span class="line">  &#123;</span><br><span class="line">    type: &#x27;list&#x27;,</span><br><span class="line">    message: &#x27;è¯·é€‰æ‹©ä¸€ç§ç¯å¢ƒ:&#x27;,</span><br><span class="line">    name: &#x27;fruit&#x27;,</span><br><span class="line">    choices: [&#x27;dev&#x27;, &#x27;test&#x27;, &#x27;test2&#x27;, &#x27;pre&#x27;, &#x27;product&#x27;],</span><br><span class="line">    filter: function (val) &#123;</span><br><span class="line">      // ä½¿ç”¨filterå°†å›ç­”å˜ä¸ºå°å†™</span><br><span class="line">      return val.toLowerCase();</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    type: &#x27;list&#x27;,</span><br><span class="line">    message: &#x27;è¯·é€‰æ‹©æ‰“åŒ…å¹³å°:&#x27;,</span><br><span class="line">    name: &#x27;platform&#x27;,</span><br><span class="line">    choices: [&#x27;--win&#x27;, &#x27;--mac&#x27;],</span><br><span class="line">    filter: function (val) &#123;</span><br><span class="line">      // ä½¿ç”¨filterå°†å›ç­”å˜ä¸ºå°å†™</span><br><span class="line">      return val.toLowerCase();</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">if(process.env.TYPE === &#x27;development&#x27;)&#123;</span><br><span class="line">  promptList.pop();</span><br><span class="line">&#125;</span><br><span class="line">inquirer.prompt(promptList).then((answers) =&gt; &#123;</span><br><span class="line">  const spawnType = process.env.TYPE === &#x27;development&#x27;?&#x27;start&#x27;:&#x27;package&#x27;;</span><br><span class="line">  const args = process.env.TYPE ===&#x27;development&#x27;?[spawnType]:[spawnType,answers.platform];</span><br><span class="line">  console.log(args,&#x27;args&#x27;)</span><br><span class="line">  spawn(`yarn`,args, &#123;</span><br><span class="line">    stdio: &#x27;inherit&#x27;,</span><br><span class="line">    // ä»…åœ¨å½“å‰è¿è¡Œç¯å¢ƒä¸º Windows æ—¶ï¼Œæ‰ä½¿ç”¨ shell</span><br><span class="line">    shell: [&#x27;win32&#x27;,&#x27;win64&#x27;].includes(process.platform) ,</span><br><span class="line">    env:&#123;</span><br><span class="line">      ...process.env,</span><br><span class="line">      ENV:answers.fruit</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  console.log(answers); // è¿”å›çš„ç»“æœ</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/11/19/element-rate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="miroku">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/19/element-rate/" class="post-title-link" itemprop="url">Element-UI Rate è¯„åˆ†ä½¿ç”¨è‡ªå®šä¹‰icon</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-11-19 22:20:00" itemprop="dateCreated datePublished" datetime="2020-11-19T22:20:00+08:00">2020-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-01-28 17:46:49" itemprop="dateModified" datetime="2023-01-28T17:46:49+08:00">2023-01-28</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><font face="STCAIYUN" size="3">é¡¹ç›®é‡Œé¢ä½¿ç”¨äº†React ä¸ Vue è¿›è¡ŒåŒæ—¶å¼€å‘ï¼ŒReact å¯¹åº”çš„ä½¿ç”¨çš„æ˜¯Antd,Vue åˆ™æ˜¯ç”¨Element è¿™äº›ç»„ä»¶åº“è¿›è¡Œå¼€å‘ï¼Œåœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸‹ä½¿ç”¨è¿™2ç§æ¡†æ¶ï¼Œæœ¬èº«å°±ä¾èµ–äº†vuera æ¥è¿›è¡Œç›¸äº’åä½œï¼Œæ— è®ºæ˜¯React åµŒå…¥åˆ°Vue é‡Œé¢ï¼Œè¿˜æ˜¯Vue åµŒå…¥åˆ°React é‡Œé¢ï¼Œæœ¬æ¥Vue å†™å¾—ä¸å¤šï¼Œæ‰€ä»¥è¿™è¾¹å°±æ²¡æœ‰ä½¿ç”¨vuera æ¥å®Œæˆï¼Œä¸€ä¸ªæŸ¥çœ‹è¯„åˆ†åŠŸèƒ½ï¼Œåœ¨React æ¨¡å—ä¸‹ç”¨antd çš„Rate å®Œæˆï¼Œåœ¨Vue ä¸‹ç”¨Element çš„Rate è¿›è¡Œå¼€å‘ï¼Œæƒ³åŠ æ·±ä¸€ä¸‹Vue çš„å¼€å‘ã€‚ä½†æ˜¯æœ€ç»ˆå¯¼è‡´çš„ç»“æœæ˜¯ï¼ŒæŸ¥çœ‹è¯„åˆ†çš„å¼¹æ¡†ï¼Œé‡Œé¢çš„æ˜Ÿæ˜Ÿå¤§å°é¢œè‰²éƒ½ä¸ä¸€æ ·ï¼Œéœ€è¦ç»Ÿä¸€ä¸€ä¸‹ã€‚</font></p>
<blockquote>
<p><font face="STCAIYUN" size="2">è§£å†³æ€è·¯ï¼š<br>1.é€šè¿‡è‡ªå®šä¹‰icon ,è®©æ˜Ÿæ˜Ÿå¤§å°ã€æ ·è‰²ä¸€æ · ,<br>  2.antd çš„ Rate ä½¿ç”¨characterã€element çš„ Rate ä½¿ç”¨icon-classesï¼Œ<br>  3.ä½¿ç”¨iconfont é…åˆå®Œæˆ</font></p>
</blockquote>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">antd Rateï¼š</span><br><span class="line">  // éè‡ªå®šä¹‰ï¼š&lt;Rate value=&#123;subItem.value&#125; disabled count=&#123;item.name === &#x27;å¢å€¼è¯„åˆ†&#x27;?3:5&#125;/&gt;</span><br><span class="line">  &lt;Rate value=&#123;subItem.value&#125; disabled count=&#123;item.name === &#x27;å¢å€¼è¯„åˆ†&#x27;?3:5&#125; character=&#123;()=&gt;&lt;IconSvg type=&quot;iconstar&quot; style=&#123;&#123; color: &#x27;#ffc300&#x27; &#125;&#125; /&gt;&#125; /&gt;</span><br><span class="line"></span><br><span class="line">  // IconSvg è§£æ é˜¿é‡Œiconfont </span><br><span class="line">  const IconSvg = (props:&#123; type: string, className?:string, style?:any&#125;) =&gt; &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;svg className=&#123;`icon $&#123;props.className || &#x27;&#x27;&#125;`&#125; aria-hidden=&quot;true&quot; style=&#123;props.style&#125;&gt;</span><br><span class="line">        &lt;use xlinkHref=&#123;`#$&#123;props.type&#125;`&#125;&gt;&lt;/use&gt;</span><br><span class="line">      &lt;/svg&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">  export default IconSvg</span><br><span class="line"></span><br><span class="line">element Rate:</span><br><span class="line">  // éè‡ªå®šä¹‰ï¼š&lt;el-rate v-model=&quot;subItem.value&quot; disabled :max=&quot;item.name === &#x27;å¢å€¼è¯„åˆ†&#x27;?3:5&quot;&gt;&lt;/el-rate&gt;</span><br><span class="line">  &lt;el-rate v-model=&quot;subItem.value&quot; disabled :max=&quot;item.name === &#x27;å¢å€¼è¯„åˆ†&#x27;?3:5&quot; :icon-classes=&quot;iconClasses&quot; void-icon-class=&quot;icon-rate-face-off&quot; :colors=&quot;colors&quot;&gt;</span><br><span class="line">  &lt;/el-rate&gt;</span><br><span class="line"></span><br><span class="line">  // javascript</span><br><span class="line">  name: &#x27;check-rate&#x27;,</span><br><span class="line">  props: [&#x27;rate&#x27;, &#x27;mark&#x27;],</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      iconClasses: [&#x27;icon iconfont iconstar&#x27;,&#x27;icon iconfont iconstar&#x27;,&#x27;icon iconfont iconstar&#x27;],</span><br><span class="line">      colors:[&#x27;#FFC300&#x27;,&#x27;#FFC300&#x27;,&#x27;#FFC300&#x27;]</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><font face="STCAIYUN" size="3">antd çš„æ”¹é€ å¾ˆé¡ºåˆ©å°±å®Œæˆäº†ï¼Œä½†æ˜¯element çš„æ˜Ÿæ˜Ÿä¸€ç›´ä¸å‡ºæ¥ï¼Œé‡åˆ°çš„é—®é¢˜å°±æ˜¯iconfont icon å¼•å…¥åï¼Œæ²¡æœ‰å±•ç¤ºå‡ºæ¥ï¼š</font></p>
<p><font face="STCAIYUN" size="3">ä¸»è¦æ˜¯åœ¨iconfont çš„ä½¿ç”¨ä¸Šï¼Œå…ˆè¿›è¡Œå¼•å…¥ï¼Œå¦‚ä¸‹å›¾ï¼Œå°†css js æ–‡ä»¶åˆ†åˆ«åœ¨æ¨¡æ¿html ä¸­è¿›è¡Œå¼•å…¥</font></p>
<p><img src="/images/iconfont.png"></p>
<p><font face="STCAIYUN" size="3">æ³¨æ„çš„ç‚¹æ˜¯iconClasses è¿™ä¸ªé‡Œé¢å¡«å…¥çš„name ä¸è¦æ˜¯åœ¨iconfont ç½‘ç«™ä¸Šå¤åˆ¶å¾—åˆ°çš„ï¼Œè¿™æ˜¯æ˜¾ç¤ºä¸å‡ºæ¥çš„,å®ƒå¾—åˆ°çš„æ˜¯ï¼šiconstar  ï¼Œä¸at.alicnd.com å¼•ç”¨çš„å¯¹åº”æœ‰æ¬ ç¼ºï¼Œæ‰€ä»¥å¯¼è‡´æ˜¾ç¤ºä¸å‡ºæ¥ï¼Œå®ƒé‡Œé¢å®é™…å¯¹åº”çš„æ˜¯ icon iconfont iconstar ï¼Œç±»å‹+name çš„ä¸€ä¸ªç»„åˆ</font></p>
<p><img src="/images/star.png"></p>
<p><img src="/images/name.png"></p>
<p><font face="STCAIYUN" size="3">å¯¹æ¯”æ–¹å¼æ˜¯åœ¨iconfont ç½‘ç«™ä¸Šç‚¹å‡»ä¸‹è½½æœ¬åœ°ï¼Œæ‰“å¼€demo_index.html åå°±å¯ä»¥çœ‹åˆ°span æ ‡ç­¾é‡Œé¢çš„class å°±æ˜¯å®é™…å¯æ˜¾ç¤ºçš„ã€‚</font></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/10/29/download/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="miroku">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/29/download/" class="post-title-link" itemprop="url">download ä¸‹è½½æ–¹å¼</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-29 19:15:00" itemprop="dateCreated datePublished" datetime="2020-10-29T19:15:00+08:00">2020-10-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-01-28 17:46:49" itemprop="dateModified" datetime="2023-01-28T17:46:49+08:00">2023-01-28</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><font face="STCAIYUN" size="3">ä»Šå¤©åœ¨äºåç«¯è°ƒè¯•ä¸€ä¸ªä¸‹è½½æ¥å£æ˜¯ï¼Œé‡åˆ°ä¸€ä¸ªä¸‹è½½ä¸æˆåŠŸï¼Œæç¤ºâ€™æ— æƒé™â€˜æ“ä½œï¼Œç»•äº†ä¸€åœˆå‘ç°æ˜¯æ­¤æ¥å£åšäº†æƒé™æ•ˆéªŒï¼Œè‰ç‡äº†â€¦</font></p>
<p><img src="/images/download.png"></p>
<blockquote>
<p><font face="STCAIYUN" size="2">åŸå› åˆ†æï¼š<br>1.åç«¯æä¾›ä¸€ä¸ªä¸‹è½½æ¥å£ï¼Œæ¥å£é‰´æƒèµ°ä¸­é—´ä»¶middlewoare ,<br>  2.å‰ç«¯ä¸ºäº†æ–¹ä¾¿ï¼Œä½¿ç”¨window.open ç›´æ¥æ‹¼è£…äº†é“¾æ¥ï¼Œè¿›è¡Œäº†ä¸‹è½½ï¼Œ<br>  3.2ä¸ªç³»ç»Ÿï¼ŒåŒä¸€ä¸ªæ¥å£ï¼ŒåŒä¸€ä»½ä»£ç ï¼Œåœ¨a ç«¯å°±å¯ä»¥æ­£å¸¸ä¸‹è½½ï¼Œåœ¨b ç«¯å°±ä¸‹è½½ä¸äº†</font></p>
</blockquote>
<p><font face="STCAIYUN" size="2">å¯¼è‡´åœ¨2ç«¯å‡ºç°ä¸åŒçš„ç°è±¡æ˜¯ï¼Œa ç«¯é‰´æƒä½¿ç”¨Cookie ,b ç«¯é‰´æƒä½¿ç”¨ token ,Cookie æƒ…å†µä¸‹æ— è®ºä½¿ç”¨ajax ,è¿˜æ˜¯ window.open åœ¨header é‡Œé¢é»˜è®¤å°±è¢«æ·»åŠ ï¼Œè€Œtoken è¿™ç§å°±åšä¸åˆ°ï¼Œæ‰€ä»¥å°±ä¼šå¯¼è‡´åŒæ ·çš„ä»£ç ï¼Œåœ¨ä¸åŒçš„é‰´æƒä¸‹å°±ç°è±¡ä¸åŒã€‚</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">è§£å†³æ–¹æ³•ï¼š</span><br><span class="line">const downloadOriginalText = useCallback(() =&gt; &#123;</span><br><span class="line">    // æ¥å£</span><br><span class="line">    exportDownloadApi(&#123; ct_id:ctId, task_id:taskId, ca_id:caId &#125;).then((&#123; data &#125;) =&gt; &#123;</span><br><span class="line">      const url = window.URL.createObjectURL(data);</span><br><span class="line">      let a = document.createElement(&#x27;a&#x27;);</span><br><span class="line">      document.body.appendChild(a);</span><br><span class="line">      // å¯ä»¥å°† a æ ‡ç­¾display è®¾ä¸ºnone ,ä»¥å…æœ‰æ‰€å½±å“</span><br><span class="line">      a.href = url;</span><br><span class="line">      a.click();</span><br><span class="line">      window.URL.revokeObjectURL(url);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;, [ctId, taskId, caId])</span><br></pre></td></tr></table></figure>

<blockquote>
<p><font face="STCAIYUN" size="2">ä¸Šè¿°æ–¹æ³•å¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜ï¼š<br>1.è®¾ç½®responseType ,æ‹¿ä½¿ç”¨axios exportDownloadApi è¿™ä¸ªæ¥å£çš„åœ°æ–¹è¦è®¾ç½®responseType ,å®ƒæ˜¯è·ŸHeader åŒçº§</font></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export async function exportDownloadApi (data) &#123;</span><br><span class="line">  return requestHelper.get(&#x27;/exportxxxxxx00000000&#x27;, &#123; params: data, responseType: &#x27;blob&#x27; &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><font face="STCAIYUN" size="2">2.åœ¨å…¬å…±å¤„ç†è¯·æ±‚çš„åœ°æ–¹ï¼Œåœ¨header é‡Œé¢è®¾ç½®token</font></p>
</blockquote>
<p><font face="STCAIYUN" size="2">å¦‚æœä¸è®¾å°±ä¼šå‡ºç°ï¼Œç‚¹å‡»ä¸‹è½½ï¼Œæµè§ˆå™¨ä¼šå‡ºç°ä¸€ä¸ªä¸‹è½½è¡Œä¸ºï¼Œæ–‡ä»¶ä¹Ÿä¸‹è½½ä¸‹è½½ä¸‹æ¥äº†ï¼Œå°±æ˜¯æ— æ³•æ‰“å¼€ï¼Œå‘ŠçŸ¥è¢«æŸåï¼Œæ­£å¸¸ä¸‹è½½æ˜¯æ²¡æœ‰è¿™ä¸ªä¸‹è½½è¡Œä¸ºçš„ï¼Œç›´æ¥å°±æ‰“å¼€äº†ï¼ˆæœ‰å¾…éªŒè¯ï¼‰</font></p>
<p><font face="STCAIYUN" size="2">åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­è¿˜å‘ç”Ÿè¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š<br>é—®é¢˜ï¼šè®¾ç½®äº†responseType ä¹Ÿè®¾ç½®äº†token ,ä½†æ˜¯ä¿®æ”¹äº†Response Header é‡Œé¢çš„Content-Type: application/octet-stream,ä¸‹è½½ä¸‹æ¥çš„ä¹Ÿæ˜¯æŸåçš„ï¼Œä¸‹è½½åŠ¨ä½œä¼šæœ‰ã€‚æ­¤æ—¶ Response Header é‡Œé¢æ˜¯ï¼š<br>Content-Disposition: attachment; filename=â€translation-55980.zipâ€<br>Content-Type: application/octet-streamï¼Œæ²¡æœ‰å…·ä½“å»åˆ†æï¼Œæ„Ÿè§‰é—®é¢˜æ˜¯å‡ºç°åœ¨è¿™é‡Œï¼Œäºæ˜¯åˆè®©åç«¯è®¾ç½®ä¸ºï¼š<br>Content-Type: application/zipï¼Œä¸€æŠŠè¿‡ã€‚</font></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/28/let/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="miroku">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/28/let/" class="post-title-link" itemprop="url">ä»Babel ç¼–è¯‘ç†è§£let const</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-08-28 23:59:46" itemprop="dateCreated datePublished" datetime="2020-08-28T23:59:46+08:00">2020-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-01-28 17:46:49" itemprop="dateModified" datetime="2023-01-28T17:46:49+08:00">2023-01-28</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><font face="STCAIYUN" size="3">é¦–å…ˆlet å’Œ const æ˜¯es6 å‡ºçš„ï¼Œè¿™é‡Œå°±è¦äº†è§£ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆè¦å‡ºæ–°è¯­æ³•ï¼Œä¸€èˆ¬æ˜¯æ–°äº‹ç‰©å¸¦æ›¿æ—§äº‹ç‰©ï¼Œå¿…ç„¶æ˜¯æ—§äº‹ç‰©æ»¡è¶³ä¸äº†å½“å‰ï¼Œæ¢³ç†ä¸€ä¸‹es5 é‡Œé¢çš„å˜é‡å£°æ˜ä¼šå­˜åœ¨å“ªäº›ä¸è¶³ï¼Œç„¶åå†ä»let å’Œ const ä¸Šå»äº†è§£ä»–ä»¬çš„ä¼˜ç‚¹ã€‚</font></p>
<blockquote>
<p><font face="STCAIYUN" size="2">es5 å˜é‡å£°æ˜ï¼Œä¹Ÿå°±æ˜¯var ä¼šå­˜åœ¨çš„é—®é¢˜</font></p>
</blockquote>
<p><font face="STCAIYUN" size="2">1.å†…å±‚å˜é‡å¯èƒ½ä¼šè¦†ç›–å¤–å±‚å˜é‡</font><br><font face="STCAIYUN" size="2">2.å¾ªç¯ä¸­çš„è®¡æ•°å˜é‡å¯èƒ½ä¼šæ³„æ¼æˆä¸ºå…¨å±€å˜é‡</font></p>
<blockquote>
<p><font face="STCAIYUN" size="2">é‚£ä¹ˆç«‹è¶³es5 æœ¬èº«æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å»è§£å†³å‘¢ï¼Ÿæˆ–è€…æ˜¯åšä¸ªå—çº§ä½œç”¨åŸŸï¼Œæƒ³åˆ°ä½œç”¨åŸŸï¼Œjs é‡Œé¢åªæœ‰å‡½æ•°å­˜åœ¨ä½œç”¨åŸŸï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ©ç”¨å‡½æ•°æ¥å®ç°</font></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a = 1;</span><br><span class="line">(function IIFE()&#123;</span><br><span class="line">  var a = 2;</span><br><span class="line">  console.log(a); //2</span><br><span class="line">&#125;)()</span><br><span class="line">console.log(a);//1</span><br></pre></td></tr></table></figure>

<blockquote>
<p><font face="STCAIYUN" size="2">å½“åœ¨es6 ä¸­å¼•å…¥äº†å—çº§ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯åœ¨èŠ±æ‹¬å·é‡Œé¢å­˜åœ¨let æˆ–è€…æ˜¯const æ—¶ï¼ŒèŠ±æ‹¬å·æ‰€åœ¨çš„åŒºåŸŸå†…å°±æ˜¯å±äºå—çº§ä½œç”¨åŸŸäº†ï¼Œå®ƒçš„ä¼˜ç‚¹æ˜¯ï¼š</font></p>
</blockquote>
<p><font face="STCAIYUN" size="2">1.å¤–å±‚ä½œç”¨åŸŸæ— æ³•è¯»å–å†…å±‚ä½œç”¨çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯es5 çš„ç¼ºç‚¹1å°±ä¸å¤å­˜åœ¨äº†</font><br><font face="STCAIYUN" size="2">2.å¤–å±‚å£°æ˜çš„å˜é‡åå¯ä»¥ä¸å†…å±‚çš„ç›¸åŒï¼Œäº’ä¸å¹²æ‰°ï¼Œä¸ç”¨å½“å¿ƒä¼šè¢«ä¿®æ”¹</font><br><font face="STCAIYUN" size="2">3.ç”¨å‡½æ•°æ¥æ¨¡æ‹Ÿæˆ–è€…æ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°å°±ä¸åœ¨éœ€è¦äº†</font></p>
<p><font face="STCAIYUN" size="2">ä¸‹é¢æ¥çœ‹ä¸€ç»„æºç ç¤ºä¾‹ï¼š</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var x = 1;</span><br><span class="line">let y = 1;</span><br><span class="line">if (true) &#123;</span><br><span class="line">  var x = 2;</span><br><span class="line">  let y = 2;</span><br><span class="line">&#125;</span><br><span class="line">console.log(x); // 2</span><br><span class="line">console.log(y); // 1</span><br></pre></td></tr></table></figure>

<p><font face="STCAIYUN" size="2">è¢«babel ç¼–è¯‘è§£æåçš„ç¤ºä¾‹ï¼š</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">var x = 1;</span><br><span class="line">var y = 1;</span><br><span class="line"> </span><br><span class="line">if (true) &#123;</span><br><span class="line">  var x = 2;</span><br><span class="line">  var _y = 2;</span><br><span class="line">&#125;</span><br><span class="line">console.log(x); // 2</span><br></pre></td></tr></table></figure>

<p><font face="STCAIYUN" size="2">ä¸Šé¢çš„ç¤ºä¾‹å¯ä»¥çœ‹å‡º2ä¸ªé—®é¢˜ï¼š</font><br><font face="STCAIYUN" size="2">1.ç”±äº let ä½¿èŠ±æ‹¬å·æå‡ä¸ºå—çº§ä½œç”¨åŸŸï¼Œä½¿å¾—å³ä½¿å£°æ˜äº†ç›¸åŒçš„å˜é‡å y ä¹Ÿäº’ä¸å¹²æ‰°ã€‚<br>2.ä¸ºäº†å®ç°æ­¤æ•ˆæœï¼ŒBabel é‡å‘½åäº†å—çº§ä½œç”¨åŸŸå†… let å£°æ˜çš„å˜é‡åï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ç†è§£ä¸ºbabel åœ¨è§£ælet è¯­æ³•ç³–çš„æ—¶å€™å°±æ˜¯å°†å˜é‡åé‡å‘½åäº†ã€‚</font></p>
<p><font face="STCAIYUN" size="2">å‚ç…§:<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_34290390/article/details/87986287?utm_medium=distribute.pc_relevant.none-task-blog-title-1&amp;spm=1001.2101.3001.4242">https://blog.csdn.net/weixin_34290390/article/details/87986287?utm_medium=distribute.pc_relevant.none-task-blog-title-1&amp;spm=1001.2101.3001.4242</a></font></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/25/one/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="miroku">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tomorrow tomorrow tomorrowï¼Œain`t no such thing as tomorrowï¼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/25/one/" class="post-title-link" itemprop="url">JSON.stringifyçš„é­”æ³•</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-08-25 23:27:46" itemprop="dateCreated datePublished" datetime="2020-08-25T23:27:46+08:00">2020-08-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-01-28 17:46:49" itemprop="dateModified" datetime="2023-01-28T17:46:49+08:00">2023-01-28</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>JSON.stringify æ˜¯å°†javascriptå¯¹è±¡è½¬æ¢æˆJSONå­—ç¬¦ä¸²;å¯¹åº”çš„è¿˜æœ‰ä¸€ä¸ªJSON.parse,å®ƒæ˜¯å°†JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºjavascriptå¯¹è±¡ï¼Œå–åˆ°äº’è¡¥çš„ä½œç”¨ï¼›</p>
<h5 id="æ—¥å¸¸å·¥ä½œä¸­å¸¸ç”¨çš„åœºåˆå¦‚ä¸‹ï¼š"><a href="#æ—¥å¸¸å·¥ä½œä¸­å¸¸ç”¨çš„åœºåˆå¦‚ä¸‹ï¼š" class="headerlink" title="æ—¥å¸¸å·¥ä½œä¸­å¸¸ç”¨çš„åœºåˆå¦‚ä¸‹ï¼š"></a>æ—¥å¸¸å·¥ä½œä¸­å¸¸ç”¨çš„åœºåˆå¦‚ä¸‹ï¼š</h5><h6 id="1-åœ¨ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜çš„æ—¶å€™ï¼Œå…ˆè¦å°†ç¼“å­˜çš„å¯¹è±¡è½¬æ¢æˆJSONå­—ç¬¦ä¸²ï¼Œå–å‡ºçš„æ—¶å€™å†å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡"><a href="#1-åœ¨ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜çš„æ—¶å€™ï¼Œå…ˆè¦å°†ç¼“å­˜çš„å¯¹è±¡è½¬æ¢æˆJSONå­—ç¬¦ä¸²ï¼Œå–å‡ºçš„æ—¶å€™å†å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡" class="headerlink" title="1.åœ¨ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜çš„æ—¶å€™ï¼Œå…ˆè¦å°†ç¼“å­˜çš„å¯¹è±¡è½¬æ¢æˆJSONå­—ç¬¦ä¸²ï¼Œå–å‡ºçš„æ—¶å€™å†å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡"></a>1.åœ¨ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜çš„æ—¶å€™ï¼Œå…ˆè¦å°†ç¼“å­˜çš„å¯¹è±¡è½¬æ¢æˆJSONå­—ç¬¦ä¸²ï¼Œå–å‡ºçš„æ—¶å€™å†å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const auth = &#123;</span><br><span class="line">	id:001,</span><br><span class="line">  create_time:&#x27;Wed Dec 11 2019 23:19:57 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;,</span><br><span class="line">  name:&#x27;yy&#x27;</span><br><span class="line">&#125;</span><br><span class="line">//å­˜å…¥</span><br><span class="line">localStorage.setItem(&#x27;auth&#x27;,JSON.stringify(auth));</span><br><span class="line"></span><br><span class="line">//è°ƒç”¨</span><br><span class="line">const currentAuth = JSON.parse(localStorage.getItem(&#x27;auth&#x27;));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="2-åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå¯¹è±¡"><a href="#2-åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå¯¹è±¡" class="headerlink" title="2.åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå¯¹è±¡"></a>2.åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå¯¹è±¡</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const data = [</span><br><span class="line">  &#123;type:&#x27;javascript&#x27;&#125;,</span><br><span class="line">  &#123;type:&#x27;html&#x27;&#125;,</span><br><span class="line">  &#123;type:&#x27;css&#x27;&#125;</span><br><span class="line">];</span><br><span class="line">JSON.stringify(data).includes(JSON.stringify(&#123;type:&#x27;css&#x27;&#125;));//true</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="3-åˆ¤æ–­æ•°ç»„-å¯¹è±¡æ˜¯å¦ç›¸ç­‰"><a href="#3-åˆ¤æ–­æ•°ç»„-å¯¹è±¡æ˜¯å¦ç›¸ç­‰" class="headerlink" title="3.åˆ¤æ–­æ•°ç»„/å¯¹è±¡æ˜¯å¦ç›¸ç­‰"></a>3.åˆ¤æ–­æ•°ç»„/å¯¹è±¡æ˜¯å¦ç›¸ç­‰</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const a = [1,2,3];</span><br><span class="line">const b = [1,2,3];</span><br><span class="line">JSON.stringify(a) == JSON.stringify(b);//true</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="4-æ•°æ®æ·±æ‹·è´"><a href="#4-æ•°æ®æ·±æ‹·è´" class="headerlink" title="4.æ•°æ®æ·±æ‹·è´"></a>4.æ•°æ®æ·±æ‹·è´</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const a = [1,2,3];</span><br><span class="line">const b = JSON.parse(JSON.stringify(a));</span><br><span class="line">b[0] = 0;</span><br><span class="line">console.log(a,b);//[1,2,3] [0,2,3]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="5-æ•°æ®å¤„ç†"><a href="#5-æ•°æ®å¤„ç†" class="headerlink" title="5.æ•°æ®å¤„ç†"></a>5.æ•°æ®å¤„ç†</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">//å¤„ç†å‰çš„å¯¹è±¡</span><br><span class="line">const todayILearn = &#123;</span><br><span class="line">  _id: 1,</span><br><span class="line">  content: &#x27;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&#x27;,</span><br><span class="line">  created_at: &#x27;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;,</span><br><span class="line">  updated_at: &#x27;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;</span><br><span class="line">&#125;;</span><br><span class="line">//å¤„ç†åçš„å¯¹è±¡</span><br><span class="line">const todayILearn = &#123;</span><br><span class="line">  id: 1,</span><br><span class="line">  content: &#x27;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&#x27;,</span><br><span class="line">  createdAt: &#x27;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;,</span><br><span class="line">  updatedAt: &#x27;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//å®ç°æ–¹æ³•</span><br><span class="line">1.åˆ›å»ºæ–°çš„å¯¹è±¡ + éå†å®ç°</span><br><span class="line">// å¤šä¸€ä¸ªå˜é‡å­˜å‚¨</span><br><span class="line">const todayILearnTemp = &#123;&#125;;</span><br><span class="line">for (const [key, value] of Object.entries(todayILearn)) &#123;</span><br><span class="line">  if (key === &quot;_id&quot;) todayILearnTemp[&quot;id&quot;] = value;</span><br><span class="line">  else if (key === &quot;created_at&quot;) todayILearnTemp[&quot;createdAt&quot;] = value;</span><br><span class="line">  else if (key === &quot;updatedAt&quot;) todayILearnTemp[&quot;updatedAt&quot;] = value;</span><br><span class="line">  else todayILearnTemp[key] = value;</span><br><span class="line">&#125;</span><br><span class="line">console.log(todayILearnTemp);</span><br><span class="line">// ç»“æœï¼š</span><br><span class="line">// &#123; id: 1,</span><br><span class="line">//  content: &#x27;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&#x27;,</span><br><span class="line">//  createdAt: &#x27;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;,</span><br><span class="line">//  updated_at: &#x27;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;</span><br><span class="line">// &#125;</span><br><span class="line">ç¼ºç‚¹ï¼šå¤šå£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼ŒåŠ äº†å±‚å¾ªç¯ï¼Œå¤šä¸ªif else åˆ¤æ–­</span><br><span class="line"></span><br><span class="line">2.å…ˆdelete å±æ€§ï¼Œå†å¢åŠ å±æ€§</span><br><span class="line">todayILearn.id = todayILearn._id;</span><br><span class="line">todayILearn.createdAt = todayILearn.created_at;</span><br><span class="line">todayILearn.updatedAt = todayILearn.updated_at;</span><br><span class="line">delete todayILearn._id;</span><br><span class="line">delete todayILearn.created_at;</span><br><span class="line">delete todayILearn.updated_at;</span><br><span class="line">console.log(todayILearn);</span><br><span class="line">//     å¤ªæš´åŠ›ğŸ˜¢</span><br><span class="line">//&#123;</span><br><span class="line">//  content: &#x27;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&#x27;,</span><br><span class="line">//  id: 1,</span><br><span class="line">//  createdAt: &#x27;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;,</span><br><span class="line">//  updatedAt: &#x27;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;</span><br><span class="line">//&#125;</span><br><span class="line">ç¼ºç‚¹ï¼šå±æ€§çš„é¡ºåºå‘ç”Ÿäº†æ”¹å˜</span><br><span class="line"></span><br><span class="line">3.åºåˆ—åŒ– + replace</span><br><span class="line">const mapObj = &#123;</span><br><span class="line">  _id: &quot;id&quot;,</span><br><span class="line">  created_at: &quot;createdAt&quot;,</span><br><span class="line">  updated_at: &quot;updatedAt&quot;</span><br><span class="line">&#125;;</span><br><span class="line">JSON.parse(</span><br><span class="line">  JSON.stringify(todayILearn).replace(</span><br><span class="line">    /_id|created_at|updated_at/gi,</span><br><span class="line">    matched =&gt; mapObj[matched])</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">// &#123;</span><br><span class="line">// id: 1,</span><br><span class="line">//  content: &#x27;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&#x27;,</span><br><span class="line">//  createdAt: &#x27;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;,</span><br><span class="line">//  updatedAt: &#x27;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#x27;</span><br><span class="line">// &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="JSON-stringify-ä¸-toString-çš„åŒºåˆ«"><a href="#JSON-stringify-ä¸-toString-çš„åŒºåˆ«" class="headerlink" title="JSON.stringify ä¸ toString çš„åŒºåˆ«"></a>JSON.stringify ä¸ toString çš„åŒºåˆ«</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const a = [1,2,3];</span><br><span class="line">console.log(JSON.stringify(a));//&quot;[1,2,3]&quot;</span><br><span class="line">console.log(a.toString());//&quot;1,2,3&quot;  </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>äºŒè€…è™½ç„¶éƒ½æ˜¯è½¬æˆäº†å­—ç¬¦ä¸²ï¼Œä½†æ˜¯æœ¬è´¨ä¸Šè¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼ŒJSON.stringify ä¸»è¦æ˜¯å°†javascript å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œåå‘äºæ“ä½œå¯¹è±¡ç±»å‹ï¼Œè€ŒtoString æ›´åå‘äºæ•°å­—ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹</p>
</blockquote>
<blockquote>
<p>ä¸‹é¢æ¥çœ‹çœ‹JSON.stringify çš„å‡ å¤§ç‰¹æ€§</p>
</blockquote>
<h6 id="ç‰¹æ€§1ï¼šå¯¹äºundefined-ä»»æ„ç±»å‹å‡½æ•°ï¼Œsymbolç±»å‹çš„æ•°æ®ï¼Œåˆ†åˆ«ä½œä¸ºå¯¹è±¡çš„å±æ€§ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå•ç‹¬çš„å€¼æ—¶ï¼ŒJSON-stringify-å°†è¿”å›ä¸åŒçš„ç»“æœ"><a href="#ç‰¹æ€§1ï¼šå¯¹äºundefined-ä»»æ„ç±»å‹å‡½æ•°ï¼Œsymbolç±»å‹çš„æ•°æ®ï¼Œåˆ†åˆ«ä½œä¸ºå¯¹è±¡çš„å±æ€§ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå•ç‹¬çš„å€¼æ—¶ï¼ŒJSON-stringify-å°†è¿”å›ä¸åŒçš„ç»“æœ" class="headerlink" title="ç‰¹æ€§1ï¼šå¯¹äºundefined,ä»»æ„ç±»å‹å‡½æ•°ï¼Œsymbolç±»å‹çš„æ•°æ®ï¼Œåˆ†åˆ«ä½œä¸ºå¯¹è±¡çš„å±æ€§ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå•ç‹¬çš„å€¼æ—¶ï¼ŒJSON.stringify å°†è¿”å›ä¸åŒçš„ç»“æœ"></a>ç‰¹æ€§1ï¼šå¯¹äºundefined,ä»»æ„ç±»å‹å‡½æ•°ï¼Œsymbolç±»å‹çš„æ•°æ®ï¼Œåˆ†åˆ«ä½œä¸ºå¯¹è±¡çš„å±æ€§ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå•ç‹¬çš„å€¼æ—¶ï¼ŒJSON.stringify å°†è¿”å›ä¸åŒçš„ç»“æœ</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">a.ä½œä¸ºå¯¹è±¡å±æ€§å€¼å­˜åœ¨ï¼ŒJSON.stringify å°†è·³è¿‡ï¼ˆå¿½ç•¥ï¼‰ä»–ä»¬ï¼Œç„¶åè¿›è¡Œåºåˆ—åŒ–</span><br><span class="line">  const data = &#123;</span><br><span class="line">    a: &quot;aaa&quot;,</span><br><span class="line">    b: undefined,</span><br><span class="line">    c: Symbol(&quot;dd&quot;),</span><br><span class="line">    fn: function() &#123;</span><br><span class="line">      return true;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  JSON.stringify(data); // è¾“å‡ºï¼šï¼Ÿ</span><br><span class="line"></span><br><span class="line">  // &quot;&#123;&quot;a&quot;:&quot;aaa&quot;&#125;&quot;</span><br><span class="line"></span><br><span class="line">b.ä½œä¸ºæ•°ç»„å…ƒç´ å­˜åœ¨ï¼ŒJSON.stringify å°†ä»–ä»¬åºåˆ—åŒ–ä¸ºnull</span><br><span class="line">  JSON.stringify([&quot;aaa&quot;, undefined, function aa() &#123;</span><br><span class="line">      return true</span><br><span class="line">    &#125;, Symbol(&#x27;dd&#x27;)])  // è¾“å‡ºï¼šï¼Ÿ</span><br><span class="line"></span><br><span class="line">  // &quot;[&quot;aaa&quot;,null,null,null]&quot;</span><br><span class="line"></span><br><span class="line">c.å•ç‹¬åºåˆ—åŒ–çš„è½¬æ¢ç»“æœï¼Ÿï¼Ÿï¼Ÿ</span><br><span class="line">JSON.stringify(function a ()&#123;console.log(&#x27;a&#x27;)&#125;)</span><br><span class="line">// undefined</span><br><span class="line">JSON.stringify(undefined)</span><br><span class="line">// undefined</span><br><span class="line">JSON.stringify(Symbol(&#x27;dd&#x27;))</span><br><span class="line">// undefined</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">miroku</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">miroku</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
